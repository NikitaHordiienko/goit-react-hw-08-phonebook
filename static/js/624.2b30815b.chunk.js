"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[624],{5624:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var a=n(2791),r=n(9434),s=n(6916),c=function(e){return e.contacts.items},i=function(e){return e.contacts.isLoading},o=function(e){return e.contacts.error},l=(0,s.P1)([c,function(e){return e.filter.value}],(function(e,t){var n,a=(null===(n=t.value)||void 0===n?void 0:n.toLowerCase())||"";return e.filter((function(e){return e.name.toLowerCase().includes(a)}))})),u=n(5247),d=n(6673),m="Contacts_contactsThumb__L8-yt",_="Section_section__Z2PLw",h="Section_page-title__c1brb",f=n(3329),x=function(e){var t=e.title,n=e.children;return(0,f.jsxs)("section",{className:_,children:[(0,f.jsx)("h2",{className:h,children:t}),n]})},b=n(8174),p="ContactForm_cardForm__RExHf",j="ContactForm_input__Bl93P",v="ContactForm_inputLabel__LEeFC",N="ContactForm_inputField__qJkou",C="ContactForm_formButton__TN6Jq";function y(){var e=(0,r.I0)(),t=(0,r.v9)(c);return(0,f.jsxs)("form",{className:p,autoComplete:"off",onSubmit:function(n){n.preventDefault();var a=n.target,r=a.elements.name.value,s=a.elements.number.value;if(t.find((function(e){return e.name===r})))return b.Am.error("".concat(r," is already in contacts")),void a.reset();e((0,u.uK)({name:r,number:s})),a.reset()},children:[(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("input",{className:N,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,f.jsx)("label",{className:v,htmlFor:"name",children:"Name"})]}),(0,f.jsxs)("div",{className:j,children:[(0,f.jsx)("input",{className:N,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,f.jsx)("label",{className:v,htmlFor:"number",children:"Number"})]}),(0,f.jsx)("button",{className:C,type:"submit",children:"Add contact"})]})}var F=n(2982),w=n(885),g=n(6856),A=n(4164),E=n(71),L="EditContactModal_overlay__cf4TQ",k="EditContactModal_modal__z6M0E",z="EditContactModal_closeButton__QNnzx",M="EditContactModal_card-heading__OBDBr",Z="EditContactModal_form__sPSrC",I="EditContactModal_formLabel__VFS0O",S="EditContactModal_formInput__D88wh",q="EditContactModal_formButton__lpNKm",B=document.querySelector("#modal-root");function P(e){var t=e.name,n=e.number,s=e.id,i=e.onClose,o=(0,r.I0)(),l=(0,r.v9)(c);(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&i(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[i]);return(0,A.createPortal)((0,f.jsx)("div",{className:L,onClick:function(e){return function(e){e.target===e.currentTarget&&i()}(e)},children:(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("button",{className:z,type:"button",onClick:function(){return i(!1)},children:(0,f.jsx)(E.bjh,{})}),(0,f.jsx)("h2",{className:M,children:"Edit contact"}),(0,f.jsxs)("form",{className:Z,onSubmit:function(e){e.preventDefault();var t=e.target,n=t.elements.name.value,a=t.elements.number.value,r=l.find((function(e){return e.id===s})),c={id:s};if(r.name!==n&&(c.name=n),r.number!==a&&(c.number=a),r.name===n&&r.number===a)return b.Am.warning("You haven't changed anything."),void i();l.find((function(e){return e.name===n}))&&c.name===n?b.Am.error("".concat(n," is already in contacts")):(o((0,u.mP)(c)),i())},children:[(0,f.jsx)("label",{className:I,htmlFor:"editName",children:"New name"}),(0,f.jsx)("input",{className:S,type:"text",name:"name",id:"editName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",defaultValue:t,required:!0}),(0,f.jsx)("label",{className:I,htmlFor:"editNumber",children:"New number"}),(0,f.jsx)("input",{className:S,type:"tel",name:"number",id:"editNumber",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",defaultValue:n,required:!0}),(0,f.jsx)("button",{className:q,type:"submit",children:"Save changes"})]})]})}),B)}var T="ContactListItem_item__UAAix",D="ContactListItem_text__QXs1+",G="ContactListItem_phone__eLbis",H="ContactListItem_button__SG6H2",J=function(e){var t=e.contact,n=(0,r.I0)(),s=(0,a.useState)(!1),c=(0,w.Z)(s,2),i=c[0],o=c[1],l=function(e){o(e)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("li",{children:(0,f.jsxs)("div",{className:T,children:[(0,f.jsxs)("p",{className:D,children:[" ",(0,f.jsx)(g.amj,{})," ",t.name,":"]}),(0,f.jsx)("a",{className:G,href:"tell:"+t.number,children:t.number}),(0,f.jsx)("button",{className:H,type:"button",onClick:function(){return l(!0)},children:(0,f.jsx)(g.zmo,{})}),(0,f.jsx)("button",{className:H,type:"button",onClick:function(){return n((0,u.GK)(t.id))},children:(0,f.jsx)(g.ZkW,{})})]})},t.id),i&&(0,f.jsx)(P,{name:t.name,number:t.number,id:t.id,onClose:l})]})},K="ContactList_list__csErn",Q=function(){var e=(0,r.v9)(l);return(0,f.jsx)("ul",{className:K,children:(0,F.Z)(e).reverse().map((function(e){return(0,f.jsx)(J,{contact:e},e.id)}))})},V=n(7959),O="Filter_input__N7T3z",Y="Filter_inputLabel__AHo9j",$="Filter_inputField__GiGjH",R=function(){var e=(0,r.I0)();return(0,f.jsx)("form",{children:(0,f.jsxs)("div",{className:O,children:[(0,f.jsx)("input",{className:$,name:"filter",type:"text",onChange:function(t){var n=t.target;e((0,V.x)(n.value))},required:!0}),(0,f.jsx)("label",{className:Y,htmlFor:"filter",children:"Find contacts by name"})]})})};function U(){var e=(0,r.I0)(),t=(0,r.v9)(i),n=(0,r.v9)(o);return(0,a.useEffect)((function(){e((0,u.yF)())}),[e]),(0,f.jsxs)("div",{className:m,children:[(0,f.jsx)(x,{title:"Add new contact",children:(0,f.jsx)(y,{})}),(0,f.jsxs)(x,{title:"Your contacts",children:[(0,f.jsx)(R,{}),t&&!n?(0,f.jsx)(d.Z,{}):(0,f.jsx)(Q,{})]})]})}}}]);
//# sourceMappingURL=624.2b30815b.chunk.js.map